# Discord Send Message - Examples

## Example 1: Simple Text Message

**User Request:**
> Send a message to Discord channel 123456789012345678 saying "Hello from Claude Code!"

**Skill Actions:**
1. Validate `DISCORD_BOT_TOKEN` is set
2. Validate channel ID format
3. Execute API request:

```bash
curl -X POST "https://discord.com/api/v10/channels/123456789012345678/messages" \
  -H "Authorization: Bot ${DISCORD_BOT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{"content": "Hello from Claude Code!"}'
```

**Expected Response:**
```json
{
  "id": "987654321098765432",
  "content": "Hello from Claude Code!",
  "channel_id": "123456789012345678",
  "author": {
    "id": "bot_user_id",
    "username": "YourBot",
    "bot": true
  },
  "timestamp": "2025-10-20T12:00:00.000000+00:00"
}
```

**User Feedback:**
> Message sent successfully to channel 123456789012345678. Message ID: 987654321098765432

---

## Example 2: Formatted Message with Markdown

**User Request:**
> Send a formatted message to channel 123456789012345678 with bold title "Daily Report" and bullet points

**Skill Actions:**
1. Format message with Discord markdown
2. Execute API request:

```bash
curl -X POST "https://discord.com/api/v10/channels/123456789012345678/messages" \
  -H "Authorization: Bot ${DISCORD_BOT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "content": "**Daily Report**\n\n• Task 1 completed\n• Task 2 in progress\n• Task 3 pending\n\n*Report generated by Claude Code*"
  }'
```

**User Feedback:**
> Formatted message sent successfully with markdown formatting.

---

## Example 3: Embed Message

**User Request:**
> Send an embed to channel 123456789012345678 with title "System Alert" and description "Service is back online"

**Skill Actions:**
1. Create embed structure
2. Execute API request:

```bash
curl -X POST "https://discord.com/api/v10/channels/123456789012345678/messages" \
  -H "Authorization: Bot ${DISCORD_BOT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "embeds": [{
      "title": "System Alert",
      "description": "Service is back online",
      "color": 3066993,
      "timestamp": "2025-10-20T12:00:00.000Z",
      "footer": {
        "text": "Automated notification"
      }
    }]
  }'
```

**User Feedback:**
> Embed message sent successfully with green color (status: online).

---

## Example 4: Rich Embed with Fields

**User Request:**
> Send a detailed embed to channel 123456789012345678 about server status

**Skill Actions:**
```bash
curl -X POST "https://discord.com/api/v10/channels/123456789012345678/messages" \
  -H "Authorization: Bot ${DISCORD_BOT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{
    "embeds": [{
      "title": "Server Status Report",
      "description": "Current server metrics and status",
      "color": 3447003,
      "fields": [
        {
          "name": "CPU Usage",
          "value": "45%",
          "inline": true
        },
        {
          "name": "Memory",
          "value": "2.3GB / 8GB",
          "inline": true
        },
        {
          "name": "Uptime",
          "value": "7 days, 3 hours",
          "inline": true
        },
        {
          "name": "Status",
          "value": "✅ All systems operational",
          "inline": false
        }
      ],
      "timestamp": "2025-10-20T12:00:00.000Z",
      "footer": {
        "text": "Generated by Claude Code"
      }
    }]
  }'
```

---

## Example 5: Error Handling - Missing Permissions

**User Request:**
> Send message to channel 123456789012345678

**API Response:**
```json
{
  "code": 50013,
  "message": "Missing Permissions"
}
```

**User Feedback:**
> Error: Unable to send message. The bot is missing the "Send Messages" permission in this channel. Please check the bot's permissions in your Discord server.

---

## Example 6: Error Handling - Invalid Channel

**User Request:**
> Send message to channel 999999999999999999

**API Response:**
```json
{
  "code": 10003,
  "message": "Unknown Channel"
}
```

**User Feedback:**
> Error: Channel not found. Please verify:
> - The channel ID is correct (999999999999999999)
> - The channel exists in the server
> - The bot has access to view this channel

---

## Example 7: Multiple Messages

**User Request:**
> Send three messages to channel 123456789012345678: "First", "Second", "Third"

**Skill Actions:**
1. Send messages sequentially to respect rate limits
2. Wait 200ms between each message

```bash
# Message 1
curl -X POST "https://discord.com/api/v10/channels/123456789012345678/messages" \
  -H "Authorization: Bot ${DISCORD_BOT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{"content": "First"}'

# Wait 200ms

# Message 2
curl -X POST "https://discord.com/api/v10/channels/123456789012345678/messages" \
  -H "Authorization: Bot ${DISCORD_BOT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{"content": "Second"}'

# Wait 200ms

# Message 3
curl -X POST "https://discord.com/api/v10/channels/123456789012345678/messages" \
  -H "Authorization: Bot ${DISCORD_BOT_TOKEN}" \
  -H "Content-Type: application/json" \
  -d '{"content": "Third"}'
```

**User Feedback:**
> Successfully sent 3 messages to channel 123456789012345678.

---

## Color Reference for Embeds

Common embed colors (decimal format):
- Red (Error): `15158332`
- Orange (Warning): `15105570`
- Yellow (Caution): `16776960`
- Green (Success): `3066993`
- Blue (Info): `3447003`
- Purple: `10181046`
- Pink: `15277667`

## Best Practices

1. **Rate Limiting**: Wait at least 200ms between messages to avoid rate limits
2. **Content Length**: Keep messages under 2000 characters
3. **Embed Size**: Total embed size should not exceed 6000 characters
4. **Error Messages**: Always provide clear, actionable error messages
5. **Validation**: Validate channel IDs and content before making API requests
6. **Security**: Never log or expose the bot token
